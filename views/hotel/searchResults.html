<!--Errors and Messages Row-->
<div class="container">
    <div class="row-fluid">
        <!--Errors row-->
        <div class="span12 alert alert-error" ng-show="errors.length">
            <span ng-repeat="error in errors">{{error}}</span>
        </div>

        <!--Messages row-->
        <div class="span12 alert alert-info" ng-show="messages.length">
            <span ng-repeat="message in messages">{{message}}</span>
        </div>
    </div>
</div>

<!--Page title row-->
<div class="container">
    <div class="row-fluid">
        <div class="span12">
            <div class="page-header">
                <h1>{{search.hotelHeading}} <small>:: {{search.checkInDate | date:'EEE MMM dd'}} - {{search.checkOutDate | date:'EEE MMM dd'}}</small></h1>
                <h2><a href="javascript: void(0)" ng-click="showChangeSearchWindow()" class="change-search" ><i class="icon-search"></i> Change Search</a></h2>
            </div>
        </div>
    </div>
</div>

<!---Filter Bar Row--->
<div id="filterbar" class="container" >
    <div class="filter">
        <div>
            <h4 >Filter<a href="javascript:void(0)" ng-click="clearFilters()" class="pull-right"><i class="icon-refresh"></i> Clear Filters</a></h4>
        </div>
        <div class="navbar filterby">
            <div class="navbar-inner">
                <ul class="nav">
                    <li ng-class="{'active': filterItems.vendorsFilterApplied }">
                        <a href="javascript: void(0)" ng-click="filterItems.showVendorFilter=!filterItems.showVendorFilter;filterItems.showAmenitiesFilter=false;"  >Hotel Chain <i class="icon-caret-down"></i></a>
                    </li>
                    <li ng-class="{'active': filterItems.amenitiesFilterApplied }">
                        <a href="javascript: void(0)" ng-click="filterItems.showAmenitiesFilter=!filterItems.showAmenitiesFilter;filterItems.showVendorFilter=false;" >Amenities <i class="icon-caret-down"></i></a>
                    </li>

                    <li href="javascript: void(0)" ng-class="{'active': filterItems.inPolicyOnly}" ><a href="javascript: void(0)" ng-click="filterItems.inPolicyOnly = !filterItems.inPolicyOnly">In Policy</a></li>
                    <li href="javascript: void(0)" ng-class="{'active': filterItems.noSoldOut}"><a href="javascript: void(0)" ng-click="filterItems.noSoldOut = !filterItems.noSoldOut">No Sold Out</a></li>
                </ul>
            </div>
        </div>
        <div class="filter">
            <span ng-show="filtersApplied()">{{filteredHotels.length}} of </span>{{hotels.length}} total properties
        </div>

        <div class="well" ng-show="filterItems.showVendorFilter">
            <div class="row">
                <div class="span3" ng-repeat="vendor in filterItems.vendors">
                    <label><input type="checkbox" value="{{vendor.code}}" ng-model="vendor.checked"> {{vendor.name}}</label>
                 </div>
             </div>
        </div>

        <div class="well" ng-show="filterItems.showAmenitiesFilter">
            <div class="row">
                <div class="span3" ng-repeat="amenity in filterItems.amenities">
                    <label><input type="checkbox"  value="{{amenity}}" ng-model="amenity.checked"> {{amenity.name}}</label>
                </div>
            </div>
        </div>

    </div>
</div>

<!--Pagination and Continue without Hotel Row-->
<div class="container">
    <div class="row-fluid">
        <div class="span6">
            <div class="pull-right">
                <span ng-hide="filterItems.currentPage == 1"><a href="javascript: void(0)" ng-click="filterItems.currentPage = filterItems.currentPage - 1" ><< Prev Page</a>&nbsp;</span>
                <span ng-repeat="i in numberToArray( calculatePages() )"><a href="javascript: void(0)" ng-click="$parent.filterItems.currentPage=$index+1">{{$index+1}}</a>&nbsp;</span>
                <span ng-hide="filterItems.currentPage == calculatePages()"><a  href="javascript: void(0)" ng-click="filterItems.currentPage = filterItems.currentPage + 1">Next Page >></a></span>
            </div>
        </div>

        <div class="span6">
            <a href="#" class="pull-right">Continue without hotel</a>
        </div>
    </div>
</div>

<!--Hotel Results and Map Row-->
<div class="container">
    <div class="row-fluid">
        <div class="span12">
            <div class="span6" >
                <div style="height: 500px; overflow-x: hidden; overflow-y: auto;" class="hotel-results">

                    <div ng-show="searchCompleted && filteredHotels.length" >
                        <div ng-repeat="item in visibleHotels">
                            <div ng-include src="'/booking/views/hotel/hotelRenderer.html'"></div>
                        </div>
                    </div>

                    <div ng-show="searchCompleted && !filteredHotels.length">
                        <p>There were no hotels found based on your search criteria. Increase the number of miles for your search, <a href="javascript:void(0)" ng-click="clearFilters()" > clear your filters</a> or <a href="javascript: void(0)" ng-click="showChangeSearchWindow()">change your search</a> and try again.</p>
                    </div>
                </div>
            </div>
            <div class="span6" id="mapDiv" style="height: 500px;"></div>
        </div>
    </div>
</div>

<!--Bottom row under search results and map-->
<div class="container">
    <div class="row-fluid">
        <div class="span6">
            <div class="pull-right">
                <span ng-hide="filterItems.currentPage == 1"><a href="javascript: void(0)" ng-click="filterItems.currentPage = filterItems.currentPage - 1" ><< Prev Page</a>&nbsp;</span>
                <span ng-repeat="i in numberToArray( calculatePages() )"><a href="javascript: void(0)" ng-click="$parent.filterItems.currentPage=$index+1">{{$index+1}}</a>&nbsp;</span>
                <span ng-hide="filterItems.currentPage == calculatePages()"><a  href="javascript: void(0)" ng-click="filterItems.currentPage = filterItems.currentPage + 1">Next Page >></a></span>
            </div>
        </div>

        <div class="span6">
            <a href="#" class="pull-right">Continue without hotel</a>
        </div>
    </div>
</div>

<!-- Modal window to be displayed while search is occurring. -->
<div id="searchWindow" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="mySearchWindow" aria-hidden="true">
    <div class="modal-header">
        <h3 id="myModalHeader">Please Wait</h3>
    </div>
    <div id="myModalBody" class="modal-body">
        <p><i class="icon-spinner icon-spin icon-large"></i> Searching for...</p>
        <p>
            We are finding hotels closest to {{search.hotelHeading}} for {{search.checkInDate | date:'MM-dd-yyyy'}} - {{search.checkOutDate | date:'MM-dd-yyyy'}}.
        </p>
        <p>
            Tip: Double click on the map to update your search with hotels available in other areas of the city.
        </p>
    </div>
</div>

<!-- Modal window to be displayed when change search feature is selected -->
<div id="changeSearchWindow" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="mySearchWindow" aria-hidden="true">
    <div class="modal-header">
        <h3 id="changeSearchWindowHeader">Change Your Hotel Search</h3>
    </div>
    <div id="changeSearchWindowBody" class="modal-body">
        <div>
            <div class="form-element-label">
                <label for="hotel-radius">&nbsp;</label>
            </div>

            <div class="form-element-content">
                <div class="input-container">
                    <div class="btn-group" style="margin-right: 10px;">
                        <button class="btn btn-mini">in {{search.hotelRadius}} miles of</button>
                        <button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=1">in 1 mile of</a></li>
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=2">in 2 miles of</a></li>
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=5">in 5 miles of</a></li>
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=10">in 10 miles of</a></li>
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=15">in 15 miles of</a></li>
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=20">in 20 miles of</a></li>
                            <li><a href="javascript:void(0)" ng-click="search.hotelRadius=25">in 25 miles of</a></li>
                        </ul>
                    </div>

                    <div class="btn-group" id="hotel-search-type" data-toggle="buttons-radio" style="float: right;">
                        <button id="hotel-search-airport" ng-class="{'btn': true, 'btn-mini': true, 'btn-primary': search.hotelSearch=='airport'}" ng-click="search.hotelSearch='airport'">Airport</button>
                        <button id="hotel-search-address" ng-class="{'btn': true, 'btn-mini': true, 'btn-primary': search.hotelSearch=='address'}" ng-click="search.hotelSearch='address'">Address</button>
                        <!--<button id="hotel-search-location" ng-class="{'btn': true, 'btn-mini': true, 'btn-primary': search.hotelSearch=='office'}" ng-click="search.hotelSearch='office'">Offices/Venues</button>-->
                    </div>
                </div>
            </div>
        </div>

        <div id="hotel-airport-wrapper" ng-show="search.hotelSearch=='airport'">
            <div class="form-element-label">
                <label>&nbsp;</label>
            </div>

            <div class="form-element-content">
                <input id="hotel-airport" name="hotel-airport" autocomplete="off" type="text" class="input-block-level airport-select2" ng-model="search.hotelAirport" placeholder="airport">
            </div>
        </div>

        <div id="hotel-address-wrapper"  ng-show="search.hotelSearch=='address'">
            <div class="form-element-label">
                <label>&nbsp;</label>
            </div>

            <div class="form-element-content">
                <input id="hotel-address" name="hotel-address" autocomplete="off" type="text" class="input-block-level" placeholder="address" style="margin-bottom: 10px;" ng-model="search.hotelAddress">
                <input id="hotel-city" name="hotel-city" type="text" class="input-large" placeholder="city" ng-model="search.hotelCity">
                <input id="hotel-state" name="hotel-state" type="text" class="input-small" placeholder="state" ng-model="search.hotelState">
                <input id="hotel-zip" name="hotel-zip" type="text" class="input-small" placeholder="zip" ng-model="search.hotelZip">
            </div>
        </div>

        <!--
        <div id="hotel-location-wrapper" ng-show="search.hotelSearch=='office'">
            <div class="form-element-label">
                <label>&nbsp;</label>
            </div>

            <div class="form-element-content">
                <select id="hotel-location" name="hotel-location" class="input-block-level">
                    <option></option>
                    <cfoutput query="locations">
                        <option value="#locations.Office_ID#">#locations.Office_Name#</option>
                    </cfoutput>
                </select>
            </div>
        </div>
        -->
        <div id="hotel-date-wrapper">
            <div class="form-element-label">
                <label for="hotel-in-date">&nbsp;</label>
            </div>

            <div class="form-element-content">
                <div style="width: 46%; float: left; margin-right: 4%">
                    <input id="hotel-in-date" type="text" name="hotel-in-date" class="full-width" value="" placeholder="check in date" />
                </div>
                <div style="width: 46%; float: left;">
                    <input id="hotel-out-date" type="text" name="hotel-out-date" class="full-width" value="" placeholder="check out date" />
                </div>
            </div>
        </div>

        <div>
            <div class="form-element-label">
                <label>&nbsp;</label>
            </div>

            <div class="form-element-content">
                <div id="start-calendar-wrapper" style="width: 49%; float: left; clear: none;"></div>
                <div id="end-calendar-wrapper" style="width: 49%; float: left; clear: none;"></div>
            </div>
        </div>

        <div id="submit-wrapper" class="row" style="text-align: right;">
            <a href="javascript:void(0)" id="btnFormSubmit" class="btn btn-large btn-primary btn-small" ng-click="updateSearch()" type="submit" data-toggle="modal">Search</a>
        </div>
    </div>
</div>